<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
        <title>Jury - Dashboard</title>
		
		<!-- Favicon -->
        <link rel="shortcut icon" href="assets/img/favicon.png">
	
		<!-- Fontfamily -->
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,500;0,600;0,700;1,400&display=swap">
		
		<!-- Bootstrap CSS -->
        <link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css">
		
		<!-- Fontawesome CSS -->
		<link rel="stylesheet" href="assets/plugins/fontawesome/css/fontawesome.min.css">
		<link rel="stylesheet" href="assets/plugins/fontawesome/css/all.min.css">

		<!-- Calendar CSS -->
		<link rel="stylesheet" href="assets/plugins/simple-calendar/simple-calendar.css">
		
		<!-- Main CSS -->
        <link rel="stylesheet" href="assets/css/style.css">
    </head>
    <body>
	
	<!-- Main Wrapper -->
	<div class="main-wrapper">	
        <%- include('jurymenu.ejs') -%>
		<!-- Page Wrapper -->
		<div class="page-wrapper">
			<div class="content container-fluid">
				<!-- Page Header -->
				<div class="page-header">
					<div class="row">
						<div class="col-sm-12">
							<h3 class="page-title">Welcome to the  <%= edition %> Edition Evaluation Dashboard!</h3>
							<div id="timer"></div>
							<script>
								const ws = new WebSocket('ws://timer-edmt.onrender.com'); 
							
								function formatTime(seconds) {
									const hours = Math.floor(seconds / 3600);
									const minutes = Math.floor((seconds % 3600) / 60);
									const secs = seconds % 60;
									return `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
								}
							
								ws.addEventListener('message', (event) => {
									const data = JSON.parse(event.data);
									document.getElementById('timer').textContent = formatTime(data.timerValue);
								});
							
							</script>
							
						</div>
					</div>
				</div>
				<!-- /Page Header -->
				<!-- Overview Section -->
					<!-- /Overview Section -->	
					<!-- Teacher Dashboard -->
					<div class="row">
						<div class="col-12 col-lg-12 col-xl-8 d-flex">
							 <div class="card flex-fill">
								<div class="card-header">
									<div class="row align-items-center">
										<div class="col-6">
											<h5 class="card-title">JURY Tasks</h5>
										</div>
									</div>						
							  </div>
						           <div class="card-body">
									<div class="row">
										<div class="col-sm-12">
											<div class="card card-table">
												<div class="card-body">
													<div class="table-responsive">
														<table  class="table table-hover">
															<thead>
																<tr>
																	<th>Round Number</th>
																	<th>Start</th>
																	<th>End</th>
																</tr>
															</thead>
															<tbody>
																<% round.forEach(function(rou) { %>
																	<tr>
																	  <td>Round - <%=rou['RoundNumber'] %></td>
																	  <td><%=rou['start'] %></td>
																	  <td><%=rou['end'] %></td>
																	  <% if (rou['set']=='1') { %>
																		<td><a href="#">Round Evaluation</a></td>
																	  <% } else { %>
																		<td><a href="#">Not Yet Started</a></td>
																	  <% } %>
																	</tr>
																  <% }); %>
															</tbody>
														</table>
													</div>
												</div>
											</div>							
										</div>					
									</div>			
								   </div></div></div> 	
								  
							<div class="col-12 col-lg-4 col-xl-4 d-flex">				
							
							</div>

					<!-- <div class="col-12 col-lg-4 col-xl-4 d-flex">
						<div class="card flex-fill">
							<div class="card-header">
								<div class="row align-items-center">
									<div class="col-12">
										<h5 class="card-title">Semester Progres</h5>
									</div>
								</div>						
							</div>
							<div class="dash-widget">
								<div class="circle-bar circle-bar1">
									<div class="circle-graph1" data-percent="50">
										<b>50%</b>
									</div>
								</div>
								<div class="dash-info">
									<h6>Lesson Progressed</h6>
									<h4>30 <span>/ 60</span></h4>
								</div>
							</div>
						</div>
					</div>
					</div> -->
				</div>
			</div>
			<!-- /Teacher Dashboard -->
		</div>
		
		<!-- Footer -->
		<!-- <footer>
			<p>Copyright Â© 2020 Dreamguys.</p>					
		</footer> -->
		<!-- /Footer -->

	</div>
	<!-- /Page Wrapper -->

        </div>
		<!-- /Main Wrapper -->
		
		<!-- jQuery -->
        <script src="assets/js/jquery-3.6.0.min.js"></script>
		
		<!-- Bootstrap Core JS -->
        <script src="assets/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
		
		<!-- Slimscroll JS -->
		<script src="assets/plugins/slimscroll/jquery.slimscroll.min.js"></script>
		
		<!-- Chart JS -->
		<script src="assets/plugins/apexchart/apexcharts.min.js"></script>
		<script src="assets/plugins/apexchart/chart-data.js"></script>

		<!-- Calendar Js -->
		<script src="assets/plugins/simple-calendar/jquery.simple-calendar.js"></script>
		<script src="assets/js/calander.js"></script>

		<!-- Circle Progress JS -->
		<script src="assets/js/circle-progress.min.js"></script>

		<!-- Custom JS -->
		<script src="assets/js/script.js"></script>
		
    </body>
</html>